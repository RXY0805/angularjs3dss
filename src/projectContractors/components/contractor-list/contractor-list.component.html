<div class="example-container mat-elevation-z8">
    <div class="example-header" [style.display]="selection.isEmpty() ? '' : 'none'">
        <mat-input-container floatPlaceholder="never">
            <input matInput #filter placeholder="Filter contractors">
        </mat-input-container>
    </div>

    <div class="example-header example-selection-header" [hidden]="selection.isEmpty()">
        {{selection.selected.length}} {{selection.selected.length == 1 ? 'company' : 'companies'}} selected
    </div>

    <!--  -->
    <mat-table [dataSource]="dataSource" matSort>
        <!-- select -->
        <ng-container matColumnDef="select">
            <mat-header-cell *matHeaderCellDef>
                <mat-checkbox *ngIf="isCheckable" (change)="$event ? masterToggle() : null" [checked]="isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">&nbsp;
                </mat-checkbox>
                <label *ngIf="!isCheckable"></label>
            </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <mat-checkbox *ngIf="isCheckable" (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row.id) : null;onToggleSelectedCompanies(row.id, row.name)"
                    [checked]="selection.isSelected(row.id)">&nbsp;
                </mat-checkbox>
            </mat-cell>
        </ng-container>
        <!-- Name Column -->
        <ng-container matColumnDef="id">
            <mat-header-cell hidden="!isCheckable" *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
            <mat-cell hidden="!isCheckable" *matCellDef="let row"> {{row.id}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Company Name </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.name}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="email" *ngIf="!isCheckable">
            <mat-header-cell *matHeaderCellDef mat-sort-header> User </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.email}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="auditDate" *ngIf="!isCheckable">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.auditDate}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="expiryDate" *ngIf="!isCheckable">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Expiry Date </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.expiryDate}} </mat-cell>
        </ng-container>
        <!-- Color Column -->

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;">
        </mat-row>
    </mat-table>
    <div class="example-no-results" [style.display]="dataSource?.renderedData.length == 0 ? '' : 'none'">
        No contractors found matching filter.
    </div>
    <mat-paginator #paginator [length]="dataLength" [pageIndex]="0" [pageSize]="defaultPageSize" [pageSizeOptions]="[5, 10, 25, 100]">
    </mat-paginator>

</div>